import{S,a1 as $,a2 as z,M as P,a3 as H,a4 as y,a5 as L,U as _,g,C as j,a6 as V,a7 as J,n as Q,a8 as W,L as Z,T as M,a9 as X,aa as k,ab as p,ac as ee,d as U,ad as re,ae as ne,af as q,ag as ae,b as te,ah as ie,ai as fe,aj as ue,_ as F,ak as se,al as le,am as ve}from"./runtime.abrMvGU9.js";import{s as de}from"./utils.Di2KRJEk.js";function O(r,i=null,d){if(typeof r!="object"||r===null||S in r)return r;const l=J(r);if(l!==$&&l!==z)return r;var f=new Map,c=Q(r),w=P(0);c&&f.set("length",P(r.length));var I;return new Proxy(r,{defineProperty(u,e,n){(!("value"in n)||n.configurable===!1||n.enumerable===!1||n.writable===!1)&&H();var t=f.get(e);return t===void 0?(t=P(n.value),f.set(e,t)):y(t,O(n.value,I)),!0},deleteProperty(u,e){var n=f.get(e);if(n===void 0)e in u&&f.set(e,P(_));else{if(c&&typeof e=="string"){var t=f.get("length"),a=Number(e);Number.isInteger(a)&&a<t.v&&y(t,a)}y(n,_),Y(w)}return!0},get(u,e,n){var b;if(e===S)return r;var t=f.get(e),a=e in u;if(t===void 0&&(!a||(b=L(u,e))!=null&&b.writable)&&(t=P(O(a?u[e]:_,I)),f.set(e,t)),t!==void 0){var s=g(t);return s===_?void 0:s}return Reflect.get(u,e,n)},getOwnPropertyDescriptor(u,e){var n=Reflect.getOwnPropertyDescriptor(u,e);if(n&&"value"in n){var t=f.get(e);t&&(n.value=g(t))}else if(n===void 0){var a=f.get(e),s=a==null?void 0:a.v;if(a!==void 0&&s!==_)return{enumerable:!0,configurable:!0,value:s,writable:!0}}return n},has(u,e){var s;if(e===S)return!0;var n=f.get(e),t=n!==void 0&&n.v!==_||Reflect.has(u,e);if(n!==void 0||j!==null&&(!t||(s=L(u,e))!=null&&s.writable)){n===void 0&&(n=P(t?O(u[e],I):_),f.set(e,n));var a=g(n);if(a===_)return!1}return t},set(u,e,n,t){var h;var a=f.get(e),s=e in u;if(c&&e==="length")for(var b=n;b<a.v;b+=1){var R=f.get(b+"");R!==void 0?y(R,_):b in u&&(R=P(_),f.set(b+"",R))}a===void 0?(!s||(h=L(u,e))!=null&&h.writable)&&(a=P(void 0),y(a,O(n,I)),f.set(e,a)):(s=a.v!==_,y(a,O(n,I)));var o=Reflect.getOwnPropertyDescriptor(u,e);if(o!=null&&o.set&&o.set.call(t,n),!s){if(c&&typeof e=="string"){var E=f.get("length"),A=Number(e);Number.isInteger(A)&&A>=E.v&&y(E,A+1)}Y(w)}return!0},ownKeys(u){g(w);var e=Reflect.ownKeys(u).filter(a=>{var s=f.get(a);return s===void 0||s.v!==_});for(var[n,t]of f)t.v!==_&&!(n in u)&&e.push(n);return e},setPrototypeOf(){V()}})}function Y(r,i=1){y(r,r.v+i)}function G(r){return r!==null&&typeof r=="object"&&S in r?r[S]:r}function oe(r,i){return Object.is(G(r),G(i))}let D=!1;function ge(r,i,d){const l=d[i]??(d[i]={store:null,source:Z(void 0),unsubscribe:M});if(l.store!==r)if(l.unsubscribe(),l.store=r??null,r==null)l.source.v=void 0,l.unsubscribe=M;else{var f=!0;l.unsubscribe=de(r,c=>{f?l.source.v=c:y(l.source,c)}),f=!1}return g(l.source)}function ye(){const r={};return W(()=>{for(var i in r)r[i].unsubscribe()}),r}function _e(r){var i=D;try{return D=!1,[r(),D]}finally{D=i}}function K(r){for(var i=j,d=j;i!==null&&!(i.f&(re|ne));)i=i.parent;try{return q(i),r()}finally{q(d)}}function Pe(r,i,d,l){var B;var f=(d&ae)!==0,c=!te||(d&ie)!==0,w=(d&fe)!==0,I=(d&le)!==0,u=!1,e;w?[e,u]=_e(()=>r[i]):e=r[i];var n=S in r||ue in r,t=((B=L(r,i))==null?void 0:B.set)??(n&&w&&i in r?v=>r[i]=v:void 0),a=l,s=!0,b=!1,R=()=>(b=!0,s&&(s=!1,I?a=U(l):a=l),a);e===void 0&&l!==void 0&&(t&&c&&X(),e=R(),t&&t(e));var o;if(c)o=()=>{var v=r[i];return v===void 0?R():(s=!0,b=!1,v)};else{var E=K(()=>(f?F:se)(()=>r[i]));E.f|=k,o=()=>{var v=g(E);return v!==void 0&&(a=void 0),v===void 0?a:v}}if(!(d&p))return o;if(t){var A=r.$$legacy;return function(v,m){return arguments.length>0?((!c||!m||A||u)&&t(m?o():v),v):o()}}var h=!1,x=!1,T=Z(e),N=K(()=>F(()=>{var v=o(),m=g(T);return h?(h=!1,x=!0,m):(x=!1,T.v=v)}));return f||(N.equals=ee),function(v,m){if(ve!==null&&(h=x,o(),g(T)),arguments.length>0){const C=m?g(N):c&&w?O(v):v;return N.equals(C)||(h=!0,y(T,C),b&&a!==void 0&&(a=C),U(()=>g(N))),v}return g(N)}}export{ge as a,O as b,oe as i,Pe as p,ye as s};
