import"../chunks/disclose-version.Bg9kRutz.js";import{e as K,u as N,f as O,s as t,k as r,r as l,m as v,n as a,o as R,t as T,q as n}from"../chunks/runtime.Bd4EnX-u.js";import{a as b,t as _,e as W}from"../chunks/render.qcllsTlz.js";import{i as V}from"../chunks/if.dA70V0X5.js";import{c as X,a as Y,r as f}from"../chunks/queryClient.BEUBuIH3.js";import{b as A,a as Z}from"../chunks/input.BuTNjVah.js";import{s as ee,p as g,a as w}from"../chunks/props.D1o1xWrs.js";import{B as te}from"../chunks/BasePage.BX5KYPMs.js";var ae=_('<p class="text-center">Loading settings...</p>'),ne=_('<span class="loading loading-spinner"></span>'),se=_('<form class="space-y-6"><div class="form-control"><label for="heartbeatInterval" class="mb-2 block text-sm font-medium">Heartbeat Interval (seconds)</label> <input id="heartbeatInterval" type="number" class="input input-bordered w-full" placeholder="300" min="10" max="99999" required></div> <div class="form-control"><label for="meterValueSampleInterval" class="mb-2 block text-sm font-medium">Meter Value Sample Interval (seconds)</label> <input id="meterValueSampleInterval" type="number" class="input input-bordered w-full" placeholder="60" min="10" max="99999" required></div> <div class="form-control"><label for="clockAlignedDataInterval" class="mb-2 block text-sm font-medium">Clock Aligned Data Interval (seconds)</label> <input id="clockAlignedDataInterval" type="number" class="input input-bordered w-full" placeholder="60" min="10" max="99999" required></div> <div class="form-control"><label for="systemMaintenance" class="mb-2 block text-sm font-medium">System Maintenance</label> <input id="systemMaintenance" type="checkbox" class="toggle toggle-primary"></div> <button type="submit" class="btn btn-primary w-full"><!> Update Settings</button></form>'),re=_('<div class="max-w-xl p-4"><!></div>');function be(B,C){K(C,!0);const D=ee(),i=()=>w(H,"$querySettings",D),s=()=>w(L,"$mutationSettings",D),H=X(),L=Y();let m=v(0),c=v(!1),p=v(0),u=v(0);N(()=>{i().data&&(t(m,g(i().data.heartbeatInterval)),t(c,g(!!i().data.systemMaintenance)),t(p,g(i().data.meterValueSampleInterval)),t(u,g(i().data.clockAlignedDataInterval)))});function Q(){s().mutate({heartbeatInterval:n(m),systemMaintenance:n(c),meterValueSampleInterval:n(p),clockAlignedDataInterval:n(u)})}te(B,{title:"Administration",children:(U,le)=>{var y=re(),j=r(y);{var z=o=>{var d=ae();b(o,d)},E=o=>{var d=se(),I=r(d),S=a(r(I),2);f(S),l(I);var k=a(I,2),x=a(r(k),2);f(x),l(k);var h=a(k,2),P=a(r(h),2);f(P),l(h);var M=a(h,2),$=a(r(M),2);f($),l(M);var q=a(M,2),F=r(q);{var G=e=>{var J=ne();b(e,J)};V(F,e=>{s().isPending&&e(G)})}R(),l(q),l(d),T(()=>{S.disabled=s().isPending,x.disabled=s().isPending,P.disabled=s().isPending,$.disabled=s().isPending,q.disabled=s().isPending}),W("submit",d,e=>{e.preventDefault(),e.stopPropagation(),Q()}),A(S,()=>n(m),e=>t(m,e)),A(x,()=>n(p),e=>t(p,e)),A(P,()=>n(u),e=>t(u,e)),Z($,()=>n(c),e=>t(c,e)),b(o,d)};V(j,o=>{i().isPending?o(z):o(E,!1)})}l(y),b(U,y)},$$slots:{default:!0}}),O()}export{be as component};
