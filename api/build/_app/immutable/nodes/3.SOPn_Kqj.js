import"../chunks/disclose-version.Bg9kRutz.js";import{e as N,u as O,f as R,s as n,k as r,r as l,m as v,n as t,t as T,o as a}from"../chunks/runtime.BtD-H5di.js";import{a as d,t as f,e as W,b as X}from"../chunks/render.CEt87p24.js";import{i as w}from"../chunks/if.DejqJvjo.js";import{c as Y,a as Z,r as b}from"../chunks/queryClient.wLn_WNHu.js";import{b as A,a as ee}from"../chunks/input.Bog2BhtK.js";import{s as te,p as D,a as B}from"../chunks/props.CM-xdQ4A.js";import{B as ae}from"../chunks/BasePage.B17YfXTR.js";var se=f('<p class="text-center">Loading settings...</p>'),ne=f('<span class="loading loading-spinner"></span>'),re=f('<form class="space-y-6"><div class="form-control"><label for="heartbeatInterval" class="mb-2 block text-sm font-medium">Heartbeat Interval (seconds)</label> <input id="heartbeatInterval" type="number" class="input input-bordered w-full" placeholder="300" min="10" max="99999" required></div> <div class="form-control"><label for="meterValueSampleInterval" class="mb-2 block text-sm font-medium">Meter Value Sample Interval (seconds)</label> <input id="meterValueSampleInterval" type="number" class="input input-bordered w-full" placeholder="60" min="10" max="99999" required></div> <div class="form-control"><label for="clockAlignedDataInterval" class="mb-2 block text-sm font-medium">Clock Aligned Data Interval (seconds)</label> <input id="clockAlignedDataInterval" type="number" class="input input-bordered w-full" placeholder="60" min="10" max="99999" required></div> <div class="form-control"><label for="systemMaintenance" class="mb-2 block text-sm font-medium">System Maintenance</label> <input id="systemMaintenance" type="checkbox" class="toggle toggle-primary"></div> <button type="submit" class="btn btn-primary w-full"><!></button></form>'),le=f('<div class="max-w-xl p-4"><!></div>');function fe(C,H){N(H,!0);const V=te(),m=()=>B(L,"$querySettings",V),s=()=>B(Q,"$mutationSettings",V),L=Y(),Q=Z();let c=v(0),p=v(!1),u=v(0),g=v(0);O(()=>{m().data&&(n(c,D(m().data.heartbeatInterval)),n(p,D(!!m().data.systemMaintenance)),n(u,D(m().data.meterValueSampleInterval)))});function U(){s().mutate({heartbeatInterval:a(c),systemMaintenance:a(p),meterValueSampleInterval:a(u),clockAlignedDataInterval:a(g)})}ae(C,{title:"Administration",children:(j,ie)=>{var _=le(),z=r(_);{var E=i=>{var o=se();d(i,o)},F=i=>{var o=re(),y=r(o),I=t(r(y),2);b(I),l(y);var S=t(y,2),x=t(r(S),2);b(x),l(S);var h=t(S,2),k=t(r(h),2);b(k),l(h);var P=t(h,2),M=t(r(P),2);b(M),l(P);var $=t(P,2),G=r($);{var J=e=>{var q=ne();d(e,q)},K=e=>{var q=X("Update Settings");d(e,q)};w(G,e=>{s().isPending?e(J):e(K,!1)})}l($),l(o),T(()=>{I.disabled=s().isPending,x.disabled=s().isPending,k.disabled=s().isPending,M.disabled=s().isPending,$.disabled=s().isPending}),W("submit",o,e=>{e.preventDefault(),e.stopPropagation(),U()}),A(I,()=>a(c),e=>n(c,e)),A(x,()=>a(u),e=>n(u,e)),A(k,()=>a(g),e=>n(g,e)),ee(M,()=>a(p),e=>n(p,e)),d(i,o)};w(z,i=>{m().isPending?i(E):i(F,!1)})}l(_),d(j,_)},$$slots:{default:!0}}),R()}export{fe as component};
