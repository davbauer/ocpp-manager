import"../chunks/disclose-version.Bg9kRutz.js";import"../chunks/legacy.D2MqI-vY.js";import{e as la,f as ca,k as a,n as e,r as t,x as ma,t as C,q as o}from"../chunks/runtime.Bd4EnX-u.js";import{d as fa,a as c,t as v,c as va,s as g}from"../chunks/render.qcllsTlz.js";import{i as B}from"../chunks/if.dA70V0X5.js";import{e as ua,i as pa}from"../chunks/each.CqG-kNtr.js";import{i as ga}from"../chunks/lifecycle.C1YRy3UF.js";import{s as ba,a as b}from"../chunks/props.D1o1xWrs.js";import{e as Ta,j as ya,k as _a,l as Ra}from"../chunks/queryClient.l1UmLc7w.js";import{d as z,z as T,t as m}from"../chunks/toast.CH_ZFDER.js";import{B as xa}from"../chunks/BasePage.BX5KYPMs.js";import{I as Da}from"../chunks/IconDeviceAirtag.DBFYa02f.js";import{S as ha}from"../chunks/Scrollable.DH2uU6nV.js";import{f as V}from"../chunks/formatDistanceToNow.Cbs4euKL.js";const $a=(y,f,r)=>{z.open({header:"Add RFID Tag",fields:[{label:"Friendly Name",name:"friendlyName",type:"text",defaultValue:"",validation:T.string().min(1)},{label:"RFID Tag",name:"rfidTag",type:"text",defaultValue:"",validation:T.string().min(1)}],actions:[{label:"Create",key:"create",class:"btn-primary",buttonType:"submit",callback:({fieldValues:u,close:_})=>{f().mutate({friendlyName:u.friendlyName,rfidTag:u.rfidTag},{onError:()=>{m({message:"Error creating RFID Tag",type:"error"})},onSuccess:()=>{m({message:"RFID Tag created",type:"success"}),_()}})}}]})};var Fa=(y,f,r)=>f(o(r)),Ia=v('<tr><td class="w-60 font-medium">Last Transaction</td><td> </td></tr>'),ka=v('<div class="bg-base-200 rounded-lg p-6 shadow-md"><div class="mb-6 flex items-center justify-between"><div class="flex items-center gap-4"><!> <div><h3 class="text-xl font-semibold"> </h3> <p class="text-sm text-gray-500"> </p></div></div> <button class="btn btn-ghost btn-sm">Edit</button></div> <table class="bg-base-300 table w-full overflow-hidden rounded-lg"><tbody><tr><td class="w-60 font-medium">Created</td><td> </td></tr><!></tbody></table></div>'),wa=v('<div class="bg-base-200 rounded-lg p-8 text-center"><p class="text-base-content">No RFID Tags Found</p></div>'),Na=v('<div class="space-y-6"><!></div>'),Ca=v('<div class="container mx-auto px-4"><div class="mb-6 flex items-center justify-between"><h1 class="text-2xl font-bold">RFID Tags</h1> <button class="btn btn-primary">Add RFID Tag</button></div> <!></div>');function Ja(y,f){la(f,!1);const r=ba(),u=()=>b(E,"$mutationRfidTagCreate",r),_=()=>b(G,"$mutationRfidTagUpdate",r),H=()=>b(Q,"$mutationRfidTagDelete",r),R=()=>b(L,"$queryRfidTags",r),L=Ta(1e4),E=ya(),Q=_a(),G=Ra(),J=d=>{z.open({header:"Edit RFID Tag",fields:[{label:"Friendly Name",name:"friendlyName",type:"text",defaultValue:d.friendlyName,validation:T.string().min(1)},{label:"RFID Tag",name:"rfidTag",type:"text",defaultValue:d.rfidTag,validation:T.string().min(1)}],actions:[{label:"Save",key:"save",class:"btn-primary",buttonType:"submit",callback:({fieldValues:s,close:n})=>{_().mutate({id:d.id,friendlyName:s.friendlyName,rfidTag:s.rfidTag},{onError:()=>{m({message:"Error saving RFID Tag",type:"error"})},onSuccess:()=>{m({message:"RFID Tag saved",type:"success"}),n()}}),n()}},{label:"Cancel",key:"cancel",class:"btn-outline",callback:({close:s})=>s()},{label:"Delete",key:"delete",class:"btn-error btn-outline",buttonType:"button",callback:({close:s})=>{H().mutate({id:d.id},{onError:()=>{m({message:"Error deleting RFID Tag",type:"error"})},onSuccess:()=>{m({message:"RFID Tag deleted",type:"success"}),s()}})}}]})};ga(),xa(y,{title:"RFID Tags",children:(d,s)=>{var n=Ca(),x=a(n),K=e(a(x),2);K.__click=[$a,u,E],t(x);var O=e(x,2);ha(O,{class:"p-4",maxHeight:"80svh",children:(W,Ea)=>{var D=Na(),X=a(D);{var Y=l=>{var p=va(),aa=ma(p);ua(aa,1,()=>R().data,pa,(ta,i)=>{var h=ka(),$=a(h),F=a($),S=a(F);Da(S,{class:"text-primary h-10 w-10"});var A=e(S,2),I=a(A),ea=a(I,!0);t(I);var q=e(I,2),ra=a(q);t(q),t(A),t(F);var sa=e(F,2);sa.__click=[Fa,J,i],t($);var U=e($,2),j=a(U),k=a(j),M=e(a(k)),ia=a(M,!0);C(()=>g(ia,V(new Date(o(i).createdAt),{addSuffix:!0}))),t(M),t(k);var oa=e(k);{var da=w=>{var N=Ia(),P=e(a(N)),na=a(P);C(()=>g(na,`#${o(i).lastTransaction.id??""} -
												${V(o(i).lastTransaction.createdAt,{addSuffix:!0})??""}`)),t(P),t(N),c(w,N)};B(oa,w=>{o(i).lastTransaction&&w(da)})}t(j),t(U),t(h),C(()=>{g(ea,o(i).friendlyName),g(ra,`RFID: ${o(i).rfidTag??""}`)}),c(ta,h)}),c(l,p)},Z=l=>{var p=wa();c(l,p)};B(X,l=>{R().data&&R().data.length>0?l(Y):l(Z,!1)})}t(D),c(W,D)},$$slots:{default:!0}}),t(n),c(d,n)},$$slots:{default:!0}}),ca()}fa(["click"]);export{Ja as component};
