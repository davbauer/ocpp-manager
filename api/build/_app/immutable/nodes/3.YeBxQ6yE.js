import"../chunks/disclose-version.Bg9kRutz.js";import{e as N,u as O,f as R,s as t,k as r,r as l,m as b,n as a,t as T,o as s}from"../chunks/runtime.BtD-H5di.js";import{a as m,t as _,e as W,b as X}from"../chunks/render.CEt87p24.js";import{i as w}from"../chunks/if.DejqJvjo.js";import{c as Y,a as Z,r as f}from"../chunks/queryClient.wLn_WNHu.js";import{b as q,a as ee}from"../chunks/input.Bog2BhtK.js";import{s as te,p as g,a as B}from"../chunks/props.CM-xdQ4A.js";import{B as ae}from"../chunks/BasePage.B17YfXTR.js";var se=_('<p class="text-center">Loading settings...</p>'),ne=_('<span class="loading loading-spinner"></span>'),re=_('<form class="space-y-6"><div class="form-control"><label for="heartbeatInterval" class="mb-2 block text-sm font-medium">Heartbeat Interval (seconds)</label> <input id="heartbeatInterval" type="number" class="input input-bordered w-full" placeholder="300" min="10" max="99999" required></div> <div class="form-control"><label for="meterValueSampleInterval" class="mb-2 block text-sm font-medium">Meter Value Sample Interval (seconds)</label> <input id="meterValueSampleInterval" type="number" class="input input-bordered w-full" placeholder="60" min="10" max="99999" required></div> <div class="form-control"><label for="clockAlignedDataInterval" class="mb-2 block text-sm font-medium">Clock Aligned Data Interval (seconds)</label> <input id="clockAlignedDataInterval" type="number" class="input input-bordered w-full" placeholder="60" min="10" max="99999" required></div> <div class="form-control"><label for="systemMaintenance" class="mb-2 block text-sm font-medium">System Maintenance</label> <input id="systemMaintenance" type="checkbox" class="toggle toggle-primary"></div> <button type="submit" class="btn btn-primary w-full"><!></button></form>'),le=_('<div class="max-w-xl p-4"><!></div>');function fe(C,H){N(H,!0);const V=te(),i=()=>B(L,"$querySettings",V),n=()=>B(Q,"$mutationSettings",V),L=Y(),Q=Z();let c=b(0),p=b(!1),u=b(0),v=b(0);O(()=>{i().data&&(t(c,g(i().data.heartbeatInterval)),t(p,g(!!i().data.systemMaintenance)),t(u,g(i().data.meterValueSampleInterval)),t(v,g(i().data.clockAlignedDataInterval)))});function U(){n().mutate({heartbeatInterval:s(c),systemMaintenance:s(p),meterValueSampleInterval:s(u),clockAlignedDataInterval:s(v)})}ae(C,{title:"Administration",children:(j,ie)=>{var y=le(),z=r(y);{var E=o=>{var d=se();m(o,d)},F=o=>{var d=re(),I=r(d),S=a(r(I),2);f(S),l(I);var x=a(I,2),k=a(r(x),2);f(k),l(x);var h=a(x,2),P=a(r(h),2);f(P),l(h);var M=a(h,2),A=a(r(M),2);f(A),l(M);var D=a(M,2),G=r(D);{var J=e=>{var $=ne();m(e,$)},K=e=>{var $=X("Update Settings");m(e,$)};w(G,e=>{n().isPending?e(J):e(K,!1)})}l(D),l(d),T(()=>{S.disabled=n().isPending,k.disabled=n().isPending,P.disabled=n().isPending,A.disabled=n().isPending,D.disabled=n().isPending}),W("submit",d,e=>{e.preventDefault(),e.stopPropagation(),U()}),q(S,()=>s(c),e=>t(c,e)),q(k,()=>s(u),e=>t(u,e)),q(P,()=>s(v),e=>t(v,e)),ee(A,()=>s(p),e=>t(p,e)),m(o,d)};w(z,o=>{i().isPending?o(E):o(F,!1)})}l(y),m(j,y)},$$slots:{default:!0}}),R()}export{fe as component};
